<!DOCTYPE html>
<html lang="en">

<head>
  <title>Matching Survey</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<body>
<div class="container">
  <div class="jumbotron">
    <h1>Survey</h1>      

  </div>
  <a href="/"><button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span></button></a>
  <form>
  <div class="form-group">
    <label for="">Name</label>
    <input type="text" class="form-control" id="nameinput" aria-describedby="emailHelp" placeholder="Enter your name">
  </div>
  <div class="form-group">
    <label for="">Picture</label>
    <input type="text" class="form-control" id="pictureinput" placeholder="link to your picture">
  </div>
  <div class=row></div>
  <h3>Questions</h3>
  <h6 class='w3-animate-fading'>1 Being Strongly Disagree and 5 Being Strongly Agree</h6>
  <div class="form-group">
    <label for="exampleSelect1">Do you like to run?</label>
    <select class="form-control" id="question1">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like video games?</label>
    <select class="form-control" id="question2">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like to party?</label>
    <select class="form-control" id="question3">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like to smoke?</label>
    <select class="form-control" id="question4">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like to have sex?</label>
    <select class="form-control" id="question5">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like to work?</label>
    <select class="form-control" id="question6">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like to pray?</label>
    <select class="form-control" id="question7">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like to eat?</label>
    <select class="form-control" id="question8">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like to scam?</label>
    <select class="form-control" id="question9">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
    <div class="form-group">
    <label for="exampleSelect1">Do you like to bojangles?</label>
    <select class="form-control" id="question10">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
  <button type="submit" id="submit" class="btn btn-primary">Submit</button>
</form>
  </div>
  <!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title"><strong>Best Match</strong></h2>
        </div>
        <div class="modal-body">
          <h2 id="match-name"></h2>
          <img id="match-img" src="" alt="">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" id="close" data-dismiss="modal">Close</button>
        </div>
      </div>

</div>
<script>
// Get the modal
var modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("submit");
var close= document.getElementById("close");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}
close.onclick = function() {
    modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
     //Jquery on click function for the submit button
    $("#submit").on("click", function(event) {
        //Prevents standard function of the submit buton
        event.preventDefault();
        //creates RSVP from form values

        var newfriend = {
            name: $("#nameinput").val().trim(),
            photo: $("#pictureinput").val().trim(),
            scores:[]
        };
        
            newfriend.scores.push($("#question1").val().trim());
            newfriend.scores.push($("#question2").val().trim());
            newfriend.scores.push($("#question3").val().trim());
            newfriend.scores.push($("#question4").val().trim());
            newfriend.scores.push($("#question5").val().trim());
            newfriend.scores.push($("#question6").val().trim());
            newfriend.scores.push($("#question7").val().trim());
            newfriend.scores.push($("#question8").val().trim());
            newfriend.scores.push($("#question9").val().trim());
            newfriend.scores.push($("#question10").val().trim());

            console.log(newfriend);
        //Posts the newfriend to api/friends
        $.post("/api/friends", newfriend,
        function(data) {

          if (data) {
            $("#match-name").text(data.name);
          $("#match-img").attr("src", data.photo);
          }
        });
       
    });

    
</script>
</body>
</html>